<!doctype html>
<html>
    <head>
        <title>Derrida's Sources</title>
        <script src='https://d3js.org/d3.v4.min.js'></script>
        <!--script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link rel="stylesheet" href="style/styles.css">
    </head>

    <body>

        <h3 style="display: inline-block;">Derrida's Sources <br>Citations and References in <i>Of Grammatology</i></h3>
        <p style="color: lightgrey; font-size: 0.8em; display: inline-block; margin-left:5vw;">Data from Princeton's <a href="https://derridas-margins.princeton.edu/">Derrida's Margins Project.</a> </p>
        <!-- <form >
            <input class="showOption" type="radio" name="scatteÂ·rShow" value="id" checked> Publication<br>
            <input class="showOption" type="radio" name="scatterShow" value="author"> Author<br>
        </form> -->
        <div class="switchGroup">
            <p>
                Drag x-axis to adjust page range.
            </p>
            <label class="switch">
              <input id="switcher" type="checkbox" checked>
              <span class="slider round"></span>
            </label>
            <p id="switcherText">
                Highlight publications with the same author
            </p>
        </div>




        <!-- <ul> </ul> -->
        <svg></svg>
        <div id="tooltip" class="hidden">
        </div>

        <div id="maplegend" class="maplegend">
        </div>

        <script>
            //  Set some other Parameters that are needed in more than one js files
                var svg = d3.select('svg');
                var svgWidth = $(window).width() - 30;
                var svgHeight = $(window).height() - 200;

                var totalPage = 445;
                var numOfPageEveryRec = 1;
                var margin_left = 84.5;
                var margin_right = 10;
                var margin_bottom = 40;
                var padding_in_between = 2.2;

                var pageHeight = 40;
                var pageGroupWidth = (svgWidth) - margin_left - margin_right;
                var pageWidth = pageGroupWidth / (totalPage/numOfPageEveryRec) - padding_in_between;

                var pageGroupY = svgHeight - pageHeight - margin_bottom ;

                var pageData = d3.range((totalPage/numOfPageEveryRec)+1);


                var pageXConverter = d3.scaleLinear()
                    .domain([0, totalPage])
                    .range([0, pageGroupWidth]);

                var brushXConverter = d3.scaleLinear()
                    .domain([0, totalPage])
                    .range([0, pageGroupWidth]);



                var showOtherPublicationsWithTheSameAuthor = true;




            //set svg
                svg.attr('width',svgWidth)
                    .attr('height',svgHeight)
                    .style('background', '#ffffff')
                    .style('margin-top', 50);

            //switch showOtherPublicationsWithTheSameAuthor
            var switchToShowOthers = d3.select('#switcher')
                                       .on('change', function(){
                                           if(this.checked){
                                               showOtherPublicationsWithTheSameAuthor = true;
                                               $('#switcherText').css('color','darkblue');
                                           } else{
                                               showOtherPublicationsWithTheSameAuthor = false;
                                               $('#switcherText').css('color','grey');
                                           }

                                       })



        </script>
        <script src='scripts/basicGeometries.js'></script>
        <script type="text/javascript" src="scripts/scatterChart.js"></script>

    </body>

</html>
